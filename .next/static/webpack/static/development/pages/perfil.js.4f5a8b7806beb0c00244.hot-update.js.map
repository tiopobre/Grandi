{"version":3,"file":"static/webpack/static\\development\\pages\\perfil.js.4f5a8b7806beb0c00244.hot-update.js","sources":["webpack:///./pages/perfil.jsx"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport Layaout from '../components/Layaout/layaout'\r\nimport CardCultivo from '../components/Dinamicos/cardCultivo'\r\n\r\nimport dynamic from \"next/dynamic\";\r\nimport Router ,{useRouter} from 'next/router'\r\nconst LoginPage = dynamic(() => import(\"./login\"));\r\nimport Link from 'next/link'\r\nimport {FirebaseContext} from '../firebase' // context\r\nimport cardPlanta from '../components/Dinamicos/cardPlanta';\r\n\r\nconst Perfil = () => {\r\n  // Context de firebase\r\n  const {usuario,firebase} = useContext(FirebaseContext);\r\n  // enrutador\r\n  const router = useRouter();\r\n  //State\r\n  const [cultivos, setCultivos] = useState([]);\r\n  // query de cultivos\r\n  useEffect(() => {\r\n    const obtenerCultivos = () =>{\r\n        firebase.db.collection('cultivos').where('creador .id', '==', usuario.uid).onSnapshot(manejarSnapShot)\r\n    }\r\n    if(usuario){\r\n      obtenerCultivos();\r\n    }\r\n    \r\n  }, []);\r\n  // snapshot\r\n  function manejarSnapShot (snapshot){\r\n    const cultivos = snapshot.docs.map(doc => {\r\n      console.log(\"encontró\");\r\n      return {\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      };\r\n    });\r\n    // enviar el resultado de la conultaal state\r\n    setCultivos(cultivos);\r\n    console.log(\"CULTIVOS : \", cultivos);\r\n  }\r\n  if (usuario){\r\n    return (\r\n      <>\r\n        <Layaout>\r\n          {usuario && \r\n            (\r\n              <div id=\"contenedor\">{/* Contenedor principal */}\r\n            <div className=\"introduction\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"icono\">  <img src=\"static/imgs/foto_perfil.png\" alt=\"\" /></div>\r\n                  <br />\r\n                  <h4 className=\"text-center\"><strong>{usuario.displayName}</strong></h4>\r\n                  <p className=\"text-center\">¡Amante de las plantas y entusiasta!</p>\r\n                  <Link href=\"/Nuevo-cultivo\" >\r\n                    <button \r\n                      type=\"button\" \r\n                      value= \"nuevo-cultivo\"\r\n                      className=\"btn btn-primary \"\r\n                    >Agrergar Cultivo</button>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                  <h4><strong>TUS CULTIVOS</strong></h4>\r\n                  <br />\r\n                  <div id=\"interior\" className=\"row\">\r\n                    <CardCultivo\r\n\r\n                    /> \r\n                    <CardCultivo\r\n                      \r\n                      /> \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n            )\r\n            \r\n          }\r\n        </Layaout>\r\n      </>  \r\n    );\r\n  }\r\n  else{\r\n    //return router.push('/login');  // enrutador \r\n    return  <LoginPage/>;\r\n  }\r\n\r\n    \r\n}\r\n\r\nexport default Perfil"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AALA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;;;;A","sourceRoot":""}